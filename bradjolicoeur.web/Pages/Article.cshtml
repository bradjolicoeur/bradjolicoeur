@page "{id?}"
@model ArticleModel
@{
    ViewData["Title"] = Model.ViewModel.Article.Title;
    ViewBag.Description = Model.ViewModel.Article.Description;
    ViewBag.Image = Model.ViewModel.Article.Image?.FirstOrDefault()?.Url;
}

<div class="container">
    <div class="row margin-bottom-20">
        <h1>@Model.ViewModel.Article.Title</h1>
    </div>
    <div class="row margin-bottom-20">
        <div class="col-sm-8">
            @Html.DisplayFor(vm => vm.ViewModel.Article)
        </div>
        <div class="col-sm-4">
            <h3>You May Also Like</h3>
            <ul class="list-unstyled">
                @foreach (var article in Model.ViewModel.Suggestions)
                {
                    <li>
                        <a asp-page="./article" asp-route-id="@article.Route"><h4>@article.Title</h4></a>
                    </li>

                }

            </ul>
        </div>

        <div id="disqus_thread"></div>
        <script>
            var disqus_config = function () {
            this.page.url = "@Request.Scheme://@Request.Host@Request.Path";  
            this.page.identifier = "@Request.Scheme://@Request.Host@Request.Path"; 
            };
            
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = 'https://bradjolicoeur.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>

</div>



